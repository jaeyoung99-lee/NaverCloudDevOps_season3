<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link
		href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Permanent+Marker&family=Single+Day&display=swap"
		rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<style>
		body * {
			font-family: 'Jua';
		}

		img.photo {
			width: 80px;
			height: 80px;
			border: 1px solid black;
			border-radius: 100px;
			cursor: pointer;
		}
	</style>
	<script>
		$(function () {
			$("img.photo").click(function(){
				// 이미지 src 얻기
				let imgsrc = $(this).attr("src");
				
				// modal 이미지에 적용
				$(".detailphoto").attr("src", imgsrc);
				
				// 상품명 얻기
				let name = $(this).parent().prev().prev().text();
				
				// 상품명 적용
				$(".modalsang").text(name);
				
				// 가격 얻기
				let price = $(this).parent().prev().text();
				
				// 가격 적용
				$(".modalprice").text(price);
			});
		});
	</script>
</head>

<body>
	<div class="modal" id="myModalPhoto">
		<div class="modal-dialog">
			<div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">상품 상세정보</h4>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				</div>

				<!-- Modal body -->
				<div class="modal-body">
					<h5 class="modalsang">상품명 나올 곳</h5>
					<h5 class="modalprice" style="color: red;">가격 나올 곳</h5>
					<img src="../shop/1.jpg" class="detailphoto" style="width: 100%; border: 2px inset orange;">
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
				</div>

			</div>
		</div>
	</div>

	<div style="margin:30px 50px; width:400px;">
		<table class="table table-bordered">
			<thead>
				<tr>
					<th width="150">상품명</th>
					<th width="100">가격</th>
					<th>사진</th>
				</tr>
			</thead>
			<tbody>
				<script>
					let arrsang = [
						{title: "회색스웨터", price: 15000, photo: "../shop/8.jpg"},
						{title: "단화종류", price: 23000, photo: "../shop/11.jpg"},
						{title: "머리끈", price: 6000, photo: "../shop/26.jpg"},
						{title: "흰색원피스", price: 55000, photo: "../shop/28.jpg"},
						{title: "보석머리띠", price: 5500, photo: "../shop/30.jpg"},
						{title: "투피스정장", price: 92000, photo: "../shop/32.jpg"},
					];

					let s = "";
					$.each(arrsang, function (idx, item) {
						s += `
							<tr>
								<td>${item.title}</td>
								<td align = right>${item.price}원</td>
								<td align = center>
									<img src = "${item.photo}" class = "photo" data-bs-toggle="modal" data-bs-target="#myModalPhoto">
								</td>
							</tr>
							`;
					});

					document.write(s);
				</script>
			</tbody>
		</table>
	</div>
</body>

</html>